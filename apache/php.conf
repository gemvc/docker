# ============================================================================
# PHP Configuration for Apache
# Optimized for performance - Using PHP-FPM via FastCGI
# ============================================================================

# Directory index files (if not already set in httpd.conf)
DirectoryIndex index.php index.html

# PHP-FPM configuration via FastCGI
# Proxy PHP requests to PHP-FPM running on port 9000
<Proxy "fcgi://127.0.0.1:9000" enablereuse=on max=10>
    ProxySet timeout=300
</Proxy>

<FilesMatch \.php$>
    SetHandler "proxy:fcgi://127.0.0.1:9000"
</FilesMatch>

# Security: Don't allow access to PHP files in vendor directory
<DirectoryMatch "^/var/www/html/vendor">
    <FilesMatch \.php$>
        Require all denied
    </FilesMatch>
</DirectoryMatch>

# Security: Don't allow access to .env files
<FilesMatch "^\.env">
    Require all denied
</FilesMatch>


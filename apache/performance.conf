# ============================================================================
# GEMVC Apache Performance Configuration
# Included via conf-available/performance.conf
# ============================================================================

# Performance optimizations
Timeout 30
KeepAlive On
MaxKeepAliveRequests 100
KeepAliveTimeout 5

# Enable sendfile for better performance
EnableSendfile On

# File ETags
FileETag MTime Size

# Access control
<Directory />
    Options FollowSymLinks
    AllowOverride None
    Require all denied
</Directory>

# Document root
DocumentRoot /var/www/html

# Directory optimizations
<Directory /var/www/html>
    Options -Indexes +FollowSymLinks
    AllowOverride All
    Require all granted
    
    # Performance settings
    EnableSendfile On
    FileETag MTime Size
</Directory>

# Logging (Alpine uses /var/log/apache2/ directly, not APACHE_LOG_DIR)
ErrorLog /var/log/apache2/error.log
LogLevel warn
CustomLog /var/log/apache2/access.log combined

# Ensure log directory exists
# Note: Logs can also be sent to stdout/stderr for Docker
# ErrorLog /proc/self/fd/2
# CustomLog /proc/self/fd/1 combined

